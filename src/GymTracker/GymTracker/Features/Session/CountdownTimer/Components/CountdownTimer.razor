@using System.Timers
@using GymTracker.Features.Session.CountdownTimer.Store;
@inherits FluxorComponent

@inject IState<CountdownTimerState> State
@inject IDispatcher Dispatcher

@TimerFragments.TimerFace((name: "Countdown", duration: State.Value.StartTime == null ? State.Value.StartDuration : State.Value.Duration ))

<MudButton Variant="Variant.Filled" Size="Size.Small" OnClick="handleStart">Start</MudButton>

@code {
    private void handleStart()
    {
        Dispatcher.Dispatch(new CountdownTimerStartAction(DateTime.UtcNow));
    }
}
